\documentclass{article}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{quiver}

%Standard theorem-like environment
\theoremstyle{plain}
\newtheorem{thm}{Theorem}[section]

\newtheorem{prop}[thm]{Proposition}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{coro}[thm]{Corollary}
\newtheorem{prob}{Problem}
\newtheorem{conj}{Conjecture}


\theoremstyle{definition}
\newtheorem{defn}[thm]{Definition}
\newtheorem{rem}[thm]{Remark}
\newtheorem{eg}[thm]{Example}
\newtheorem{egs}[thm]{Examples}
\newtheorem{fact}[thm]{Fact}
\newtheorem{task}{Task}

\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\Obj}{Obj}
\DeclareMathOperator{\id}{id}

\begin{document}
	\title{My Part III Essay}
	\author{Hern√°n Ibarra Mejia}
	\maketitle
	\section{Introduction}
	The search for necessary and sufficient conditions for a monoid to be embeddable into a group. The more general problem of embedding categories into a groupoid is no harder but provides some perspective that is incredibly useful.
	
	Point out that adding formal inverses does not work in general, but we will see a situation where it does work.
	\begin{defn}[Cancellable monoids]
		Say that a monoid $M$ is \emph{left-cancellable} (respectively \emph{right cancellable}) if $ab = ac$ (respectively $ba=ca$) implies $b = c$ for all $a,b,c\in M$. We say that a monoid is \emph{cancellable} if it is both left and right-cancellable
	\end{defn}
	There are monoids that are not cancellable. Indeed, note that for any set $S$ there is the monoid $\End(S)$ of functions $S\to S$ under composition. If we take $S= \{0,1\}$ then $\End(S)$ has two distinct constant functions $c_0,c_1$ and we see that $c_0c_0 = c_0c_1$ even though $c_0\neq c_1$.
	
	While being cancellable is obviously a necessary condition, it is not sufficient as Malcev (reference missing) pointed out. 
	\begin{eg}
		\color{red}{Give a simpler example than Malcev's}.
	\end{eg}
	However, if we assume the monoid is, in addition, commutative, then we can add formal inverses without issue.
	\begin{prop}
		A commutative cancellable monoid can be embedded into a group.
	\end{prop}
	\begin{proof}
		We mimic the proof that an integral domain can be embedded into its field of fractions. Let $M$ be a commutative cancellable monoid. Define a relation on $M\times M$ by the rule $(a,b)\sim (a',b')$ if and only if $ab' = a'b$. This relation is clearly reflexive and symmetric. Transitivity holds precisely because of commutativity and cancellability: if $(a,b)\sim (a',b')$ and $(a',b')\sim (a'',b'')$ then
		\begin{equation*}
			(ab'')a' = a(a'b'')
			= a(a''b')
			= a''(ab')
			= a''(a'b)
			= (a''b)a',
		\end{equation*}
		which implies $ab'' = a''b$, i.e., $(a,b)\sim (a'',b'')$. Let $G$ be the quotient $M\times M / \sim$. 
		
		Define a binary operation on $G$ extending the operation of $M$ pointwise, that is the operation $(a,b)(c,d) = (ac,bd)$. It is easy to check that this operation respects the equivalence relation and thus is well-defined. Clearly $G$ is a group with identity $(1,1)$ and inverses defined by $(a,b)^{-1} = (b,a)$. Furthermore, $M$ embeds into $G$ via the function $m\mapsto (m,1)$.
	\end{proof}
	But being commutative and cancellable, while a sufficient condition, is not necessary: just take any non-commutative subgroup of a group.
	
	Here is another set of sufficient conditions. Call a monoid $M$ \emph{epimorphic} if for all $a,c\in M$ there is some $b\in M$ such that $ab=c$. Clearly all groups are epimorphic (just take $b= a^{-1}c$).
	\begin{prop}
		A left-cancellable epimorphic monoid can be embedded into a group.
	\end{prop}
	The proof is a nice application of Cayley's theorem for monoids, which says that a monoid $M$ acts faithfully on its underlying set by left-multiplication. This version of Cayley's theorem can be proven in the same way as the version for groups (in particular, it follows from Yoneda's Lemma).
	\begin{proof}
		Let $M$ be a monoid with underlying set $S$. Then the set of functions $S\to S$, denoted by $\End(S)$, is a monoid under composition of functions. Cayley's theorem provides and embedding of monoids $M\hookrightarrow \End(S)$ defined by $m\mapsto \lambda x. mx$. But the hypotheses ensure that left-multiplication by $m$ is injective and surjective for all $m\in M$. Thus we have an embedding $M\hookrightarrow \Aut(S)$, where $\Aut(S)$ is the set of bijections $S\to S$.
	\end{proof}
	Unfortunately, these are not necessary conditions. For instance, take the free group on two generators $F(\{a,b\})$, and consider the submonoid $M$ generated by the words $a$ and $ab$. Then $M$ is not epimorphic since $ax=ab$ has no solution for $x\in M$.
	
	The reader is encouraged to spend some time (but not too much time!) exploring different conditions that make a monoid embeddable. There are some good and bad news in this direction. The bad news come first.
	\begin{thm}[Malcev]
		There is no finite list of first-order axioms (in the language of monoids) that axiomatize monoids that embed into groups.
	\end{thm}
	There are two good news. First, Malcev proved the existence of a recursively enumerable list of necessary and sufficient axioms, that is, there are infinitely many axioms and an algorithm for enumerating all of them.
	
	Secondly, these axioms have a geometric interpretation that clarify the situation immensely. 
	\section{Substructures and Horn axioms}
	\subsection{Model-theoretic background}
	\begin{defn}
		Terms, structures, substructures, homomorphisms, universal sentences, etc.
	\end{defn}
	Obviously for any language $\mathcal{L}$ the collection of $\mathcal{L}$-structures together with structure homomorphisms form a category, which we denote as $\mathcal{C}_{\mathcal{L}}$. If $\mathcal{T}$ is an $\mathcal{L}$-theory then $\mathcal{C}_\mathcal{T}$ denotes the full subcategory of $\mathcal{C}_{\mathcal{L}}$ whose objects are models of $\mathcal{T}$.
	
	\begin{egs}
		Algebraic theories (theory of groups, theory of monoids). The elementary theory of an abstract category (ETAC, see Maclane CTFTWM chapter 2).
	\end{egs}
	\subsection{Theories of substructures}
	Characterizing monoids that embed into groups is equivalent to axiomatizing the class of all submonoids of groups. More generally, if $\mathcal{T}$ is a theory, we would like a theory $\mathcal{T}'$ whose models are precisely the substructures of $\mathcal{T}$-models. Fortunately, it is straightforward to find such a theory. Define
	\[
		\mathcal{T}_{\forall}\coloneqq \{\varphi \mid \varphi\textnormal{ is a universal sentence and }\mathcal{T}\vdash \varphi\}.
	\]
	\begin{prop}
		Let $\mathcal{T}$ be a theory. Then $\mathcal{T}_{\forall}$ axiomatizes substructures of models of $\mathcal{T}$.
	\end{prop}
	\begin{proof}
		Using the method of diagrams (see Model Theory notes Lemma 1.1.13.)
	\end{proof}
	
	This proposition is not satisfactory, since $\mathcal{T}_{\forall}$ has no simple description a priori. We improve our results in the following way. Recall that a literal is formula which is either atomic or the negation of an atomic formula. For formulae of the form $p \coloneqq \forall \bar{x}.\, (\psi_1\vee \cdots \vee \psi_n)$ where $\psi_i$ if a literal for all $i$, define 
	\[p^{(i)} \coloneqq \forall \bar{x}.\,(\psi_1 \vee\cdots \vee \psi_{i-1}\vee \psi_{i+1}\vee \cdots\vee \psi_{n}).\]
	
	\begin{lem}
		content...
	\end{lem}
	\begin{proof}
		Sentences in $\mathcal{T}$ are of the form $\forall \bar{x}. \varphi(\bar{x})$. By using the conjunctive normal form, can assume $\varphi(\bar{x})$ is the formula $\bigwedge_{i}\bigvee_j \psi_{i,j}(\bar{x})$, where the $\psi_{i,j}$ are literals (either atomic formulae or negations of them). As the universal quantifier distributes over conjunctions, we see that $\forall \bar{x}. \varphi(\bar{x})$ is equivalent to a conjunction of formulae of the form $\forall \bar{x}. \bigvee_j \psi_{j}(\bar{x})$ and thus we can assume $\mathcal{T}$ only contains formulae of this form.
		
		If $p = \forall \bar{x}.\, (\psi_1\vee \cdots \vee \psi_n)$ is in $\mathcal{T}$ define 
		\[p^{(i)} \coloneqq \forall \bar{x}.\,(\psi_1 \vee\cdots \vee \psi_{i-1}\vee \psi_{i+1}\vee \cdots\vee \psi_{n})\]
	\end{proof}
	
	
	
	However, the situation is improved in the specific case of groups and groupoids, since we can restrict the universal sentences to only \emph{Horn axioms}.
	\begin{defn}[Universal Horn axioms]
		content...
	\end{defn}
	\begin{thm}
		Let $\mathcal{T}$ be a universal theory such that $\mathcal{C}_{\mathcal{T}}$ has finite products.\footnote{\textcolor{red}{The hypothesis in Cohn's book I think are slightly different: they only require that $C_\mathcal{T}$ is closed under direct product of (finitely many) structures. I'm not sure if my claim is still true.}} Then $\mathcal{T}$ is equivalent to a theory which only contains universal Horn axioms.
	\end{thm}
\end{document}